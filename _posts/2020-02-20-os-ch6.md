---
title: OS - 프로세스 동기화
date: 2020-02-20 22:06:00
categories:
- Operating System
tags:
- OS
---

# 프로세스 동기화

1. [ 배경 ](#배경)
1. [ 임계영역 문제 ](#임계영역-문제)
1. [ 피터슨의 해결안  ](#피터슨의-해결안)
1. [ 동기화 하드웨어 ](#동기화-하드웨어)
1. [ Mutex Locks ](#Mutex-Locks)
1. [ 세마포 ](#세마포)
1. [ 고전적인 동기화 문제들 ](#고전적인-동기화-문제들)
1. [ 모니터 ](#모니터)

## 배경
---

| ![figure_6.1](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_00_ProducerConsumer.jpg) |
| :--: |
| *생산자와 소비자 코드 예시* |

| ![figure_6.1](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_RaceCondition.jpg) |
| :--: |
| *생산자와 소비자 프로세스의 명령 수행* |

## 임계영역 문제
---

| ![figure_6.2](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_01_CriticalSection.jpg) |
| :--: |
| *전형적인 프로세스 P_i의 일반적인 구조* |

## 피터슨의 해결안
---

| ![figure_6.3](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_02_Petersons.jpg) |
| :--: |
| *Peterson's solution에서의 프로세스 P_i의 구조* |

## 동기화 하드웨어
---

| ![figure_6.3](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_0304_TestAndSet.jpg) |
| :--: |
| *compare_and_swap() 명령어의 정의* |

| ![figure_6.3](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_0506_CompareAndSwap.jpg) |
| :--: |
| *compare_and_swap() 명령어를 사용한 상호 배제 구현* |

| ![figure_6.3](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_07_TestAndSet2.jpg) |
| :--: |
| *test_and_set() 명령어를 사용한 한정된 대기 조건을 만족시키는 상호 배제* |

## Mutex Locks
---

| ![figure_6.4](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_08_Locks.jpg) |
| :--: |
| *Mutex 락을 사용한 임계영역 문제 해결방안* |

| ![figure_6.4](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_Acquire_Release.jpg) |
| :--: |
| *acquire(), release() 함수 예시* |

## 세마포
---

| ![figure_6.5](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_Semaphores.jpg) |
| :--: |
| *wait()와 signal() 정의* |

### 세마포 사용법

| ![figure_6.5](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/6_09_Semaphores.jpg) |
| :--: |
| *세마포를 이용한 상호 배제 구현* |

### 구현

| ![figure_6.5](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_Semaphore2.jpg) |
| :--: |
| *세마포, wait(), signal() 구현* |

### 교착 상태와 기아

| ![figure_6.5](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_Deadlocks.jpg) |
| :--: |
| *P0, P1간 세마포 동작* |

### 우선순위 역전

## 고전적인 동기화 문제들
---

### 유한 버퍼 문제

| ![figure_6.6](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_0910_ProducerConsumer.jpg) |
| :--: |
| *생산자, 소비자 프로세스 구조* |

### Readers-Writers 문제

| ![figure_6.6](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_1112_ReaderWriterStructures.jpg) |
| :--: |
| *Writer, Reader 프로세스 구조* |

### 식사하는 철학자들 문제

| ![figure_6.6](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_13_DiningPhilosophers.jpg) |
| :--: |
| *식사하는 철학자의 상황* |

| ![figure_6.6](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_14_Philosopher_i.jpg) |
| :--: |
| *철학자 i의 구조* |

## 모니터
---

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_15_Monitor.jpg) |
| :--: |
| *monitor의 구문* |

### 모니터 사용법

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_16_MonitorSchematic.jpg) |
| :--: |
| *monitor의 구조* |

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_17_MonitorConditions.jpg) |
| :--: |
| *조건변수를 가지는 monitor* |

### 모니터를 사용한 식사하는 철학자 문제 해결안

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_18_MonitorDiningPhilosophers.jpg) |
| :--: |
| *식사하는 철학자 문제에 대한 모니터 해결방안* |

### 세마포를 이용한 모니터의 구현

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_MonitorUsage.jpg) |
| :--: |
| *세마포를 이용한 모니터에서의 상호배제* |

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_ConditionWaitSignal.jpg) |
| :--: |
| *조건변수를 가지는 세마포의 Wait(), Signal()* |

### 모니터 내에서 프로세스 수행재개

| ![figure_6.7](https://www2.cs.uic.edu/~jbell/CourseNotes/OperatingSystems/images/Chapter5/5_19_MonitorResource.jpg) |
| :--: |
| *하나의 자원을 할당해주는 모니터* |
